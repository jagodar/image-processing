<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Gallery</title>
		<link rel="stylesheet" href="galleryallinone.css">
		
	</head>
	<body>
		<script>
			function filesUpload() {
				var imagesInput = document.getElementById("imagesInput");
				var divImgs = document.getElementById("imgs");
				if ('files' in imagesInput) {
					if (imagesInput.files.length != 0) {
						for (var i = 0; i < imagesInput.files.length; i++) {
							var img = imagesInput.files[i];
							addImage(img, divImgs);
						}
					}
				}					
			}
			
			function addImage(img, divImgs) {
				var imgNode = document.createElement("IMG");
				imgNode.file = img;
				divImgs.appendChild(imgNode);

				var reader = new FileReader();
				reader.onload = (function(aImg) { 
					return function(e) {
						aImg.src = e.target.result;
						aImg.onclick = function() {
							window.open(aImg.src)};}; 
						})(imgNode);
				reader.readAsDataURL(img);
			}
		</script>
		<div class="upload">
			<span>Click or drop</span>
			<input type="file" id="imagesInput" accept="image/jpeg,image/png" multiple onchange="filesUpload()" >
		</div>
		<div id="imgs" ></div>
	</body>
</html>